<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Nanotwitter by FrankYan93</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Nanotwitter</h1>
      <h2 class="project-tagline">a baby version of Twitter designed as a platform for experimentation with scaling issues</h2>
      <a href="https://github.com/FrankYan93/nanotwitter" class="btn">View on GitHub</a>
      <a href="https://github.com/FrankYan93/nanotwitter/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/FrankYan93/nanotwitter/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="nanotwitter--" class="anchor" href="#nanotwitter--" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NanoTwitter  <a href="https://codeclimate.com/github/FrankYan93/nanotwitter"><img src="https://codeclimate.com/github/FrankYan93/nanotwitter/badges/gpa.svg" alt="Code Climate"></a>
</h1>

<p>NanoTwitter is a ruby app with basic function of twitter. You can follow other users, tweet, like tweets and so on.</p>

<h1>
<a id="authors" class="anchor" href="#authors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authors</h1>

<ul>
<li><strong>Jiadong Yan</strong></li>
<li><strong>Jiaming Xu</strong></li>
<li><strong>Xinyi Jiang</strong></li>
</ul>

<h1>
<a id="summary-statement" class="anchor" href="#summary-statement" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Summary Statement</h1>

<p>We build this web application step by step with frequent integration of code using <strong><em>Github, Codeship, Heroku</em></strong>.<br>
1. Design the overall functionality and database(We use <strong><em>PostgreSQL</em></strong>) schema.<br>
2. Build the simple skeleton of a <strong><em>Sinatra</em></strong> application.<br>
3. Design APIs that have the fundamental interaction with our database.<br>
4. We use <strong><em>ActiveRecord</em></strong> to abstract database, which is a great tool implementing ORM(object-relation mapping).<br>
5. Build some mini-tests and create test interface.<br>
6. Create UI with <strong><em>erb</em></strong> (embedded ruby) and use <strong><em>JQuery</em></strong> to control some behavior of the website elements.<br>
7. Include some CDN to beautify the website, such as <strong><em>Bootstrap</em></strong>.<br>
8. Using <strong><em>Redis</em></strong>(a cache) to speed up the response by reducing direct database operations.<br>
9. Using <strong><em>RabbitMQ</em></strong>(queue) to communicate between different servers.  </p>

<h1>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Started</h1>

<p>Notification service repo: <a href="https://github.com/FrankYan93/nanoNotification">https://github.com/FrankYan93/nanoNotification</a><br>
We must visit <a href="https://nano-notification.herokuapp.com/start">https://nano-notification.herokuapp.com/start</a> to start our web service for notification.<br>
Main website: <a href="https://nano-twitter-dratini.herokuapp.com">https://nano-twitter-dratini.herokuapp.com</a><br>
You are welcome to sign up and have fun.</p>

<h2>
<a id="running-the-tests" class="anchor" href="#running-the-tests" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Running the tests</h2>

<p><strong>How to run tests</strong></p>

<pre><code>rake (run all minitests)
ruby test/testUser/testGet.rb
ruby test/testUser/testUserCreate.rb
ruby test/testUser/testFollowUnfollow.rb
ruby test/testUser/testEditProfile.rb
ruby test/testTweet/testTweetCreate.rb
</code></pre>

<h1>
<a id="screenshots" class="anchor" href="#screenshots" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Screenshots</h1>

<h1>
<a id="deployment" class="anchor" href="#deployment" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Deployment</h1>

<h1>
<a id="built-with" class="anchor" href="#built-with" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Built with</h1>

<ul>
<li>Ruby</li>
<li>Sinatra</li>
<li>Activerecord</li>
<li>PostgreSQL</li>
<li>Javascript</li>
<li>JQuery</li>
<li>Bootstrap</li>
<li>Bootbox</li>
<li>Rake</li>
<li>Redis</li>
<li>RabbitMQ</li>
<li>Resque</li>
<li>Rack</li>
<li>...</li>
</ul>

<h1>
<a id="loader-test-results" class="anchor" href="#loader-test-results" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Loader Test Results</h1>

<ul>
<li>0-1000 over 1 min with the root url not logged in

<ol>
<li>Max # of clients active:1000</li>
<li>What time stopped:1min</li>
<li>average response time (ms):2503</li>
<li>min/max response times:15/7151</li>
<li>Error Rate:0%</li>
<li>total successes (response counts):11137</li>
</ol>
</li>
<li>0 - 500 in 1 min Logged In (Test 2) - User14, Verda

<ol>
<li>Max # of clients active:500</li>
<li>What time stopped:1min</li>
<li>average response time (ms):1987</li>
<li>min/max response times:12/4842</li>
<li>Error Rate:0%</li>
<li>total successes (response counts):6987</li>
</ol>
</li>
<li>Logged in Random Tweets (Test 3) 0-500clients over 1 min

<ol>
<li>Max # of clients active:500</li>
<li>What time stopped:1min</li>
<li>average response time (ms):3353</li>
<li>min/max response times:17/7750</li>
<li>Error Rate:0%</li>
<li>total successes (response counts):4011</li>
<li>random send tweet:"Hello,bonnie"</li>
</ol>
</li>
<li>All complete
# Versioning
nT1.0</li>
</ul>

<h1>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h1>

<p>This project is licensed under MIT License</p>

<h1>
<a id="acknowledgments" class="anchor" href="#acknowledgments" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Acknowledgments</h1>

<h1>
<a id="tips" class="anchor" href="#tips" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Tips</h1>

<ol>
<li><p>To run the test, conduct <code>rake db:test:prepare</code> and <code>rake db:test:load</code>
Then type <code>rake</code> in the terminal to run all the test</p></li>
<li><p>Reset database: <code>heroku pg:reset DATABASE_URL</code></p></li>
<li><p>We must flush all redis after test api used, and restart app.
run <code>heroku redis:cli</code>  <code>flushall</code></p></li>
<li><p><code>heroku run rake db:migrate</code></p></li>
<li><p><code>lsof -i :4567</code> to see which process is running in port 4567</p></li>
<li><p><a href="https://nano-notification.herokuapp.com/start">https://nano-notification.herokuapp.com/start</a> will start the rabbitmq notification service</p></li>
<li><p><a href="https://frankyan93.github.io/nanotwitter/">https://frankyan93.github.io/nanotwitter/</a> portfolio</p></li>
</ol>

<h1>
<a id="steps-in-local" class="anchor" href="#steps-in-local" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Steps in local:</h1>

<ol>
<li>git clone</li>
<li>install redis in local and run redis by <code>redis-server</code> links: <a href="http://download.redis.io/releases/redis-3.2.5.tar.gz">http://download.redis.io/releases/redis-3.2.5.tar.gz</a> follow readme to install redis first</li>
<li>install RabbitMQ server by <code>brew update</code>, <code>brew install rabbitmq</code>, should first install brew first. Run rabbitmq by <code>rabbitmq-server</code> if you have some problem to start, try <code>sudo chown $(whoami) /usr/local/share/man/man3</code> and <code>sudo chown $(whoami) /usr/local/share/man/man5</code>
</li>
<li>install all gems by <code>bundle install</code>
</li>
<li>install <code>postgreSQL</code> and open it</li>
<li>run <code>rake db:migrate</code>
</li>
<li>run <code>ruby app.rb</code> to start the service</li>
<li>open <code>0.0.0.0:4567</code> in the web browser</li>
<li>reset data using test api</li>
<li>done!</li>
</ol>

<h1>
<a id="last-modify-date" class="anchor" href="#last-modify-date" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Last Modify Date</h1>

<p>Dec 7, 2016</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/FrankYan93/nanotwitter">Nanotwitter</a> is maintained by <a href="https://github.com/FrankYan93">FrankYan93</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
